{"ast":null,"code":"import _asyncToGenerator from \"C:/Users/USER/Documents/Tec/Noveno Semestre/Blockchain/fcctoken/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport { Subject } from 'rxjs';\nimport Web3 from 'web3';\nimport Web3Modal from \"web3modal\";\nimport WalletConnectProvider from \"@walletconnect/web3-provider\";\nimport * as i0 from \"@angular/core\";\nexport class Web3Service {\n  constructor() {\n    this.accountStatusSource = new Subject();\n    this.accountStatus$ = this.accountStatusSource.asObservable();\n    const providerOptions = {\n      walletconnect: {\n        package: WalletConnectProvider,\n        options: {\n          //infuraId: \"wss://ropsten.infura.io/ws/v3/089b1c4d2d594e798824ef1f3d572061\" // required\n          infuraId: \"wss://ropsten.infura.io/ws/v3/089b1c4d2d594e798824ef1f3d572061\" // required\n\n        }\n      }\n    };\n    this.web3Modal = new Web3Modal({\n      network: \"ropsten\",\n      cacheProvider: true,\n      providerOptions,\n      theme: {\n        background: \"rgb(39, 49, 56)\",\n        main: \"rgb(199, 199, 199)\",\n        secondary: \"rgb(136, 136, 136)\",\n        border: \"rgba(195, 195, 195, 0.14)\",\n        hover: \"rgb(16, 26, 32)\"\n      }\n    }); // tslint:disable-next-line:max-line-length              \n    //this.abi = JSON.parse('[{\"constant\": false,\"inputs\": [{\"name\": \"toAddress\",\"type\": \"address\"},{\"name\": \"amount\",\"type\": \"uint256\"},{\"name\": \"points\",\"type\": \"uint256\"},{\"name\": \"totalPoints\",\"type\": \"uint256\"}],\"name\": \"sendPoints\",\"outputs\": [{\"name\": \"success\",\"type\": \"bool\"}],\"payable\": false,\"stateMutability\": \"nonpayable\",\"type\": \"function\"},{\"constant\": true,\"inputs\": [],\"name\": \"name\",\"outputs\": [{\"name\": \"\",\"type\": \"string\"}],\"payable\": false,\"stateMutability\": \"view\",\"type\": \"function\"},{\"constant\": false,\"inputs\": [{\"name\": \"spender\",\"type\": \"address\"},{\"name\": \"tokens\",\"type\": \"uint256\"}],\"name\": \"approve\",\"outputs\": [{\"name\": \"success\",\"type\": \"bool\"}],\"payable\": false,\"stateMutability\": \"nonpayable\",\"type\": \"function\"},{\"constant\": true,\"inputs\": [],\"name\": \"totalSupply\",\"outputs\": [{\"name\": \"\",\"type\": \"uint256\"}],\"payable\": false,\"stateMutability\": \"view\",\"type\": \"function\"},{\"constant\": false,\"inputs\": [{\"name\": \"from\",\"type\": \"address\"},{\"name\": \"to\",\"type\": \"address\"},{\"name\": \"tokens\",\"type\": \"uint256\"}],\"name\": \"transferFrom\",\"outputs\": [{\"name\": \"success\",\"type\": \"bool\"}],\"payable\": false,\"stateMutability\": \"nonpayable\",\"type\": \"function\"},{\"constant\": false,\"inputs\": [{\"name\": \"toAddress\",\"type\": \"address\"},{\"name\": \"points\",\"type\": \"uint256\"},{\"name\": \"totalPoints\",\"type\": \"uint256\"}],\"name\": \"exchangePoints\",\"outputs\": [{\"name\": \"success\",\"type\": \"bool\"}],\"payable\": false,\"stateMutability\": \"nonpayable\",\"type\": \"function\"},{\"constant\": false,\"inputs\": [{\"name\": \"totalAmount\",\"type\": \"uint256\"}],\"name\": \"setAmount\",\"outputs\": [],\"payable\": false,\"stateMutability\": \"nonpayable\",\"type\": \"function\"},{\"constant\": true,\"inputs\": [],\"name\": \"decimals\",\"outputs\": [{\"name\": \"\",\"type\": \"uint8\"}],\"payable\": false,\"stateMutability\": \"view\",\"type\": \"function\"},{\"constant\": true,\"inputs\": [],\"name\": \"_totalSupply\",\"outputs\": [{\"name\": \"\",\"type\": \"uint256\"}],\"payable\": false,\"stateMutability\": \"view\",\"type\": \"function\"},{\"constant\": true,\"inputs\": [],\"name\": \"getRewardPoints\",\"outputs\": [{\"name\": \"\",\"type\": \"uint256\"}],\"payable\": false,\"stateMutability\": \"view\",\"type\": \"function\"},{\"constant\": true,\"inputs\": [{\"name\": \"tokenOwner\",\"type\": \"address\"}],\"name\": \"balanceOf\",\"outputs\": [{\"name\": \"balance\",\"type\": \"uint256\"}],\"payable\": false,\"stateMutability\": \"view\",\"type\": \"function\"},{\"constant\": false,\"inputs\": [{\"name\": \"points\",\"type\": \"uint256\"}],\"name\": \"setExchangedRewardPoints\",\"outputs\": [],\"payable\": false,\"stateMutability\": \"nonpayable\",\"type\": \"function\"},{\"constant\": true,\"inputs\": [],\"name\": \"symbol\",\"outputs\": [{\"name\": \"\",\"type\": \"string\"}],\"payable\": false,\"stateMutability\": \"view\",\"type\": \"function\"},{\"constant\": true,\"inputs\": [{\"name\": \"a\",\"type\": \"uint256\"},{\"name\": \"b\",\"type\": \"uint256\"}],\"name\": \"safeSub\",\"outputs\": [{\"name\": \"c\",\"type\": \"uint256\"}],\"payable\": false,\"stateMutability\": \"view\",\"type\": \"function\"},{\"constant\": false,\"inputs\": [{\"name\": \"to\",\"type\": \"address\"},{\"name\": \"tokens\",\"type\": \"uint256\"}],\"name\": \"transfer\",\"outputs\": [{\"name\": \"success\",\"type\": \"bool\"}],\"payable\": false,\"stateMutability\": \"nonpayable\",\"type\": \"function\"},{\"constant\": true,\"inputs\": [],\"name\": \"getExchangedRewardPoints\",\"outputs\": [{\"name\": \"\",\"type\": \"uint256\"}],\"payable\": false,\"stateMutability\": \"view\",\"type\": \"function\"},{\"constant\": true,\"inputs\": [{\"name\": \"a\",\"type\": \"uint256\"},{\"name\": \"b\",\"type\": \"uint256\"}],\"name\": \"safeDiv\",\"outputs\": [{\"name\": \"c\",\"type\": \"uint256\"}],\"payable\": false,\"stateMutability\": \"view\",\"type\": \"function\"},{\"constant\": false,\"inputs\": [{\"name\": \"points\",\"type\": \"uint256\"}],\"name\": \"setRewardPoints\",\"outputs\": [],\"payable\": false,\"stateMutability\": \"nonpayable\",\"type\": \"function\"},{\"constant\": false,\"inputs\": [{\"name\": \"spender\",\"type\": \"address\"},{\"name\": \"tokens\",\"type\": \"uint256\"},{\"name\": \"data\",\"type\": \"bytes\"}],\"name\": \"approveAndCall\",\"outputs\": [{\"name\": \"success\",\"type\": \"bool\"}],\"payable\": false,\"stateMutability\": \"nonpayable\",\"type\": \"function\"},{\"constant\": true,\"inputs\": [{\"name\": \"a\",\"type\": \"uint256\"},{\"name\": \"b\",\"type\": \"uint256\"}],\"name\": \"safeMul\",\"outputs\": [{\"name\": \"c\",\"type\": \"uint256\"}],\"payable\": false,\"stateMutability\": \"view\",\"type\": \"function\"},{\"constant\": true,\"inputs\": [],\"name\": \"getAmount\",\"outputs\": [{\"name\": \"\",\"type\": \"uint256\"}],\"payable\": false,\"stateMutability\": \"view\",\"type\": \"function\"},{\"constant\": true,\"inputs\": [{\"name\": \"tokenOwner\",\"type\": \"address\"},{\"name\": \"spender\",\"type\": \"address\"}],\"name\": \"allowance\",\"outputs\": [{\"name\": \"remaining\",\"type\": \"uint256\"}],\"payable\": false,\"stateMutability\": \"view\",\"type\": \"function\"},{\"constant\": true,\"inputs\": [],\"name\": \"getTotalRewardPoints\",\"outputs\": [{\"name\": \"\",\"type\": \"uint256\"}],\"payable\": false,\"stateMutability\": \"view\",\"type\": \"function\"},{\"constant\": true,\"inputs\": [{\"name\": \"a\",\"type\": \"uint256\"},{\"name\": \"b\",\"type\": \"uint256\"}],\"name\": \"safeAdd\",\"outputs\": [{\"name\": \"c\",\"type\": \"uint256\"}],\"payable\": false,\"stateMutability\": \"view\",\"type\": \"function\"},{\"constant\": false,\"inputs\": [{\"name\": \"points\",\"type\": \"uint256\"}],\"name\": \"setTotalRewardPoints\",\"outputs\": [],\"payable\": false,\"stateMutability\": \"nonpayable\",\"type\": \"function\"},{\"inputs\": [],\"payable\": false,\"stateMutability\": \"nonpayable\",\"type\": \"constructor\"},{\"payable\": true,\"stateMutability\": \"payable\",\"type\": \"fallback\"},{\"anonymous\": false,\"inputs\": [{\"indexed\": true,\"name\": \"from\",\"type\": \"address\"},{\"indexed\": true,\"name\": \"to\",\"type\": \"address\"},{\"indexed\": false,\"name\": \"tokens\",\"type\": \"uint256\"}],\"name\": \"Transfer\",\"type\": \"event\"},{\"anonymous\": false,\"inputs\": [{\"indexed\": true,\"name\": \"tokenOwner\",\"type\": \"address\"},{\"indexed\": true,\"name\": \"spender\",\"type\": \"address\"},{\"indexed\": false,\"name\": \"tokens\",\"type\": \"uint256\"}],\"name\": \"Approval\",\"type\": \"event\"}]');\n    //this.contractAddress = '0x451C715210E42735C6dF0BD5b8afB2B018d0c985';   \n\n    this.abi = JSON.parse('[{\"inputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"constructor\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"internalType\":\"address\",\"name\":\"_owner\",\"type\":\"address\"},{\"indexed\":true,\"internalType\":\"address\",\"name\":\"_spender\",\"type\":\"address\"},{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"_value\",\"type\":\"uint256\"}],\"name\":\"Approval\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"internalType\":\"address\",\"name\":\"_from\",\"type\":\"address\"},{\"indexed\":true,\"internalType\":\"address\",\"name\":\"_to\",\"type\":\"address\"},{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"_value\",\"type\":\"uint256\"}],\"name\":\"Transfer\",\"type\":\"event\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"\",\"type\":\"address\"},{\"internalType\":\"address\",\"name\":\"\",\"type\":\"address\"}],\"name\":\"allowance\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"_spender\",\"type\":\"address\"},{\"internalType\":\"uint256\",\"name\":\"_value\",\"type\":\"uint256\"}],\"name\":\"approve\",\"outputs\":[{\"internalType\":\"bool\",\"name\":\"success\",\"type\":\"bool\"}],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"\",\"type\":\"address\"}],\"name\":\"balanceOf\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"decimals\",\"outputs\":[{\"internalType\":\"uint8\",\"name\":\"\",\"type\":\"uint8\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"name\",\"outputs\":[{\"internalType\":\"string\",\"name\":\"\",\"type\":\"string\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"symbol\",\"outputs\":[{\"internalType\":\"string\",\"name\":\"\",\"type\":\"string\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"totalSupply\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"_to\",\"type\":\"address\"},{\"internalType\":\"uint256\",\"name\":\"_value\",\"type\":\"uint256\"}],\"name\":\"transfer\",\"outputs\":[{\"internalType\":\"bool\",\"name\":\"success\",\"type\":\"bool\"}],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"_from\",\"type\":\"address\"},{\"internalType\":\"address\",\"name\":\"_to\",\"type\":\"address\"},{\"internalType\":\"uint256\",\"name\":\"_value\",\"type\":\"uint256\"}],\"name\":\"transferFrom\",\"outputs\":[{\"internalType\":\"bool\",\"name\":\"success\",\"type\":\"bool\"}],\"stateMutability\":\"nonpayable\",\"type\":\"function\"}]');\n    this.contractAddress = '0x93c72C90A492B14a2b1b93267C03036A5e9f5E60';\n  }\n\n  connectAccount() {\n    var _this = this;\n\n    return _asyncToGenerator(function* () {\n      _this.web3Modal.clearCachedProvider();\n\n      _this.provider = yield _this.web3Modal.connect(); // set provider\n\n      _this.web3js = new Web3(_this.provider); // create web3 instance\n\n      _this.accounts = yield _this.web3js.eth.getAccounts();\n\n      _this.accountStatusSource.next(_this.accounts);\n\n      _this.contrato = new _this.web3js.eth.Contract(_this.abi, _this.contractAddress);\n    })();\n  }\n\n}\n\nWeb3Service.ɵfac = function Web3Service_Factory(t) {\n  return new (t || Web3Service)();\n};\n\nWeb3Service.ɵprov = /*@__PURE__*/i0.ɵɵdefineInjectable({\n  token: Web3Service,\n  factory: Web3Service.ɵfac,\n  providedIn: 'root'\n});","map":{"version":3,"sources":["C:\\Users\\USER\\Documents\\Tec\\Noveno Semestre\\Blockchain\\fcctoken\\src\\app\\services\\web3.service.ts"],"names":[],"mappings":";AAKA,SAAS,OAAT,QAAwB,MAAxB;AAEA,OAAO,IAAP,MAAiB,MAAjB;AACA,OAAO,SAAP,MAAsB,WAAtB;AACA,OAAO,qBAAP,MAAkC,8BAAlC;;AAGA,OAAM,MAAO,WAAP,CAAkB;AAYpB,EAAA,WAAA,GAAA;AAHQ,SAAA,mBAAA,GAAsB,IAAI,OAAJ,EAAtB;AACR,SAAA,cAAA,GAAiB,KAAK,mBAAL,CAAyB,YAAzB,EAAjB;AAGI,UAAM,eAAe,GAAG;AACpB,MAAA,aAAa,EAAE;AACb,QAAA,OAAO,EAAE,qBADI;AAEb,QAAA,OAAO,EAAE;AACP;AACA,UAAA,QAAQ,EAAE,gEAFH,CAEoE;;AAFpE;AAFI;AADK,KAAxB;AAUA,SAAK,SAAL,GAAiB,IAAI,SAAJ,CAAc;AAC3B,MAAA,OAAO,EAAE,SADkB;AAE3B,MAAA,aAAa,EAAE,IAFY;AAG3B,MAAA,eAH2B;AAI3B,MAAA,KAAK,EAAE;AACH,QAAA,UAAU,EAAE,iBADT;AAEH,QAAA,IAAI,EAAE,oBAFH;AAGH,QAAA,SAAS,EAAE,oBAHR;AAIH,QAAA,MAAM,EAAE,2BAJL;AAKH,QAAA,KAAK,EAAE;AALJ;AAJoB,KAAd,CAAjB,CAXJ,CAwBI;AACA;AACA;;AACA,SAAK,GAAL,GAAW,IAAI,CAAC,KAAL,CAAW,u8EAAX,CAAX;AACA,SAAK,eAAL,GAAuB,4CAAvB;AAEH;;AAEK,EAAA,cAAc,GAAA;AAAA;;AAAA;AAChB,MAAA,KAAI,CAAC,SAAL,CAAe,mBAAf;;AAEA,MAAA,KAAI,CAAC,QAAL,SAAsB,KAAI,CAAC,SAAL,CAAe,OAAf,EAAtB,CAHgB,CAGgC;;AAChD,MAAA,KAAI,CAAC,MAAL,GAAc,IAAI,IAAJ,CAAS,KAAI,CAAC,QAAd,CAAd,CAJgB,CAIuB;;AACvC,MAAA,KAAI,CAAC,QAAL,SAAsB,KAAI,CAAC,MAAL,CAAY,GAAZ,CAAgB,WAAhB,EAAtB;;AACA,MAAA,KAAI,CAAC,mBAAL,CAAyB,IAAzB,CAA8B,KAAI,CAAC,QAAnC;;AACA,MAAA,KAAI,CAAC,QAAL,GAAgB,IAAI,KAAI,CAAC,MAAL,CAAY,GAAZ,CAAgB,QAApB,CAA6B,KAAI,CAAC,GAAlC,EAAuC,KAAI,CAAC,eAA5C,CAAhB;AAPgB;AAQnB;;AApDmB;;;mBAAX,W;AAAW,C;;;SAAX,W;AAAW,EAAA,OAAA,EAAX,WAAW,CAAA,I;AAAA,EAAA,UAAA,EADC","sourcesContent":["import { Injectable } from '@angular/core';\nimport { environment } from '../../environments/environment';\nimport { bindNodeCallback, Observable } from 'rxjs';\nimport { AbiItem } from 'web3-utils';\nimport { Buffer } from 'buffer';\nimport { Subject } from 'rxjs';\n\nimport Web3 from 'web3';\nimport Web3Modal from \"web3modal\";\nimport WalletConnectProvider from \"@walletconnect/web3-provider\";\n\n@Injectable({providedIn: 'root'})\nexport class Web3Service {\n    public abi: any;\n    public contractAddress: string;\n    public contrato: any;\n    public accounts: any;\n    public web3js: any;    \n    public provider: any;    \n    web3Modal;\n    \n    private accountStatusSource = new Subject<any>();\n    accountStatus$ = this.accountStatusSource.asObservable();\n\n    constructor() {\n        const providerOptions = {\n            walletconnect: {\n              package: WalletConnectProvider, // required\n              options: {\n                //infuraId: \"wss://ropsten.infura.io/ws/v3/089b1c4d2d594e798824ef1f3d572061\" // required\n                infuraId: \"wss://ropsten.infura.io/ws/v3/089b1c4d2d594e798824ef1f3d572061\" // required\n              }\n            }\n          };\n\n        this.web3Modal = new Web3Modal({\n            network: \"ropsten\", // optional\n            cacheProvider: true, // optional\n            providerOptions, // required\n            theme: {\n                background: \"rgb(39, 49, 56)\",\n                main: \"rgb(199, 199, 199)\",\n                secondary: \"rgb(136, 136, 136)\",\n                border: \"rgba(195, 195, 195, 0.14)\",\n                hover: \"rgb(16, 26, 32)\"\n            }\n        });\n\n        // tslint:disable-next-line:max-line-length              \n        //this.abi = JSON.parse('[{\"constant\": false,\"inputs\": [{\"name\": \"toAddress\",\"type\": \"address\"},{\"name\": \"amount\",\"type\": \"uint256\"},{\"name\": \"points\",\"type\": \"uint256\"},{\"name\": \"totalPoints\",\"type\": \"uint256\"}],\"name\": \"sendPoints\",\"outputs\": [{\"name\": \"success\",\"type\": \"bool\"}],\"payable\": false,\"stateMutability\": \"nonpayable\",\"type\": \"function\"},{\"constant\": true,\"inputs\": [],\"name\": \"name\",\"outputs\": [{\"name\": \"\",\"type\": \"string\"}],\"payable\": false,\"stateMutability\": \"view\",\"type\": \"function\"},{\"constant\": false,\"inputs\": [{\"name\": \"spender\",\"type\": \"address\"},{\"name\": \"tokens\",\"type\": \"uint256\"}],\"name\": \"approve\",\"outputs\": [{\"name\": \"success\",\"type\": \"bool\"}],\"payable\": false,\"stateMutability\": \"nonpayable\",\"type\": \"function\"},{\"constant\": true,\"inputs\": [],\"name\": \"totalSupply\",\"outputs\": [{\"name\": \"\",\"type\": \"uint256\"}],\"payable\": false,\"stateMutability\": \"view\",\"type\": \"function\"},{\"constant\": false,\"inputs\": [{\"name\": \"from\",\"type\": \"address\"},{\"name\": \"to\",\"type\": \"address\"},{\"name\": \"tokens\",\"type\": \"uint256\"}],\"name\": \"transferFrom\",\"outputs\": [{\"name\": \"success\",\"type\": \"bool\"}],\"payable\": false,\"stateMutability\": \"nonpayable\",\"type\": \"function\"},{\"constant\": false,\"inputs\": [{\"name\": \"toAddress\",\"type\": \"address\"},{\"name\": \"points\",\"type\": \"uint256\"},{\"name\": \"totalPoints\",\"type\": \"uint256\"}],\"name\": \"exchangePoints\",\"outputs\": [{\"name\": \"success\",\"type\": \"bool\"}],\"payable\": false,\"stateMutability\": \"nonpayable\",\"type\": \"function\"},{\"constant\": false,\"inputs\": [{\"name\": \"totalAmount\",\"type\": \"uint256\"}],\"name\": \"setAmount\",\"outputs\": [],\"payable\": false,\"stateMutability\": \"nonpayable\",\"type\": \"function\"},{\"constant\": true,\"inputs\": [],\"name\": \"decimals\",\"outputs\": [{\"name\": \"\",\"type\": \"uint8\"}],\"payable\": false,\"stateMutability\": \"view\",\"type\": \"function\"},{\"constant\": true,\"inputs\": [],\"name\": \"_totalSupply\",\"outputs\": [{\"name\": \"\",\"type\": \"uint256\"}],\"payable\": false,\"stateMutability\": \"view\",\"type\": \"function\"},{\"constant\": true,\"inputs\": [],\"name\": \"getRewardPoints\",\"outputs\": [{\"name\": \"\",\"type\": \"uint256\"}],\"payable\": false,\"stateMutability\": \"view\",\"type\": \"function\"},{\"constant\": true,\"inputs\": [{\"name\": \"tokenOwner\",\"type\": \"address\"}],\"name\": \"balanceOf\",\"outputs\": [{\"name\": \"balance\",\"type\": \"uint256\"}],\"payable\": false,\"stateMutability\": \"view\",\"type\": \"function\"},{\"constant\": false,\"inputs\": [{\"name\": \"points\",\"type\": \"uint256\"}],\"name\": \"setExchangedRewardPoints\",\"outputs\": [],\"payable\": false,\"stateMutability\": \"nonpayable\",\"type\": \"function\"},{\"constant\": true,\"inputs\": [],\"name\": \"symbol\",\"outputs\": [{\"name\": \"\",\"type\": \"string\"}],\"payable\": false,\"stateMutability\": \"view\",\"type\": \"function\"},{\"constant\": true,\"inputs\": [{\"name\": \"a\",\"type\": \"uint256\"},{\"name\": \"b\",\"type\": \"uint256\"}],\"name\": \"safeSub\",\"outputs\": [{\"name\": \"c\",\"type\": \"uint256\"}],\"payable\": false,\"stateMutability\": \"view\",\"type\": \"function\"},{\"constant\": false,\"inputs\": [{\"name\": \"to\",\"type\": \"address\"},{\"name\": \"tokens\",\"type\": \"uint256\"}],\"name\": \"transfer\",\"outputs\": [{\"name\": \"success\",\"type\": \"bool\"}],\"payable\": false,\"stateMutability\": \"nonpayable\",\"type\": \"function\"},{\"constant\": true,\"inputs\": [],\"name\": \"getExchangedRewardPoints\",\"outputs\": [{\"name\": \"\",\"type\": \"uint256\"}],\"payable\": false,\"stateMutability\": \"view\",\"type\": \"function\"},{\"constant\": true,\"inputs\": [{\"name\": \"a\",\"type\": \"uint256\"},{\"name\": \"b\",\"type\": \"uint256\"}],\"name\": \"safeDiv\",\"outputs\": [{\"name\": \"c\",\"type\": \"uint256\"}],\"payable\": false,\"stateMutability\": \"view\",\"type\": \"function\"},{\"constant\": false,\"inputs\": [{\"name\": \"points\",\"type\": \"uint256\"}],\"name\": \"setRewardPoints\",\"outputs\": [],\"payable\": false,\"stateMutability\": \"nonpayable\",\"type\": \"function\"},{\"constant\": false,\"inputs\": [{\"name\": \"spender\",\"type\": \"address\"},{\"name\": \"tokens\",\"type\": \"uint256\"},{\"name\": \"data\",\"type\": \"bytes\"}],\"name\": \"approveAndCall\",\"outputs\": [{\"name\": \"success\",\"type\": \"bool\"}],\"payable\": false,\"stateMutability\": \"nonpayable\",\"type\": \"function\"},{\"constant\": true,\"inputs\": [{\"name\": \"a\",\"type\": \"uint256\"},{\"name\": \"b\",\"type\": \"uint256\"}],\"name\": \"safeMul\",\"outputs\": [{\"name\": \"c\",\"type\": \"uint256\"}],\"payable\": false,\"stateMutability\": \"view\",\"type\": \"function\"},{\"constant\": true,\"inputs\": [],\"name\": \"getAmount\",\"outputs\": [{\"name\": \"\",\"type\": \"uint256\"}],\"payable\": false,\"stateMutability\": \"view\",\"type\": \"function\"},{\"constant\": true,\"inputs\": [{\"name\": \"tokenOwner\",\"type\": \"address\"},{\"name\": \"spender\",\"type\": \"address\"}],\"name\": \"allowance\",\"outputs\": [{\"name\": \"remaining\",\"type\": \"uint256\"}],\"payable\": false,\"stateMutability\": \"view\",\"type\": \"function\"},{\"constant\": true,\"inputs\": [],\"name\": \"getTotalRewardPoints\",\"outputs\": [{\"name\": \"\",\"type\": \"uint256\"}],\"payable\": false,\"stateMutability\": \"view\",\"type\": \"function\"},{\"constant\": true,\"inputs\": [{\"name\": \"a\",\"type\": \"uint256\"},{\"name\": \"b\",\"type\": \"uint256\"}],\"name\": \"safeAdd\",\"outputs\": [{\"name\": \"c\",\"type\": \"uint256\"}],\"payable\": false,\"stateMutability\": \"view\",\"type\": \"function\"},{\"constant\": false,\"inputs\": [{\"name\": \"points\",\"type\": \"uint256\"}],\"name\": \"setTotalRewardPoints\",\"outputs\": [],\"payable\": false,\"stateMutability\": \"nonpayable\",\"type\": \"function\"},{\"inputs\": [],\"payable\": false,\"stateMutability\": \"nonpayable\",\"type\": \"constructor\"},{\"payable\": true,\"stateMutability\": \"payable\",\"type\": \"fallback\"},{\"anonymous\": false,\"inputs\": [{\"indexed\": true,\"name\": \"from\",\"type\": \"address\"},{\"indexed\": true,\"name\": \"to\",\"type\": \"address\"},{\"indexed\": false,\"name\": \"tokens\",\"type\": \"uint256\"}],\"name\": \"Transfer\",\"type\": \"event\"},{\"anonymous\": false,\"inputs\": [{\"indexed\": true,\"name\": \"tokenOwner\",\"type\": \"address\"},{\"indexed\": true,\"name\": \"spender\",\"type\": \"address\"},{\"indexed\": false,\"name\": \"tokens\",\"type\": \"uint256\"}],\"name\": \"Approval\",\"type\": \"event\"}]');\n        //this.contractAddress = '0x451C715210E42735C6dF0BD5b8afB2B018d0c985';   \n        this.abi = JSON.parse('[{\"inputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"constructor\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"internalType\":\"address\",\"name\":\"_owner\",\"type\":\"address\"},{\"indexed\":true,\"internalType\":\"address\",\"name\":\"_spender\",\"type\":\"address\"},{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"_value\",\"type\":\"uint256\"}],\"name\":\"Approval\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"internalType\":\"address\",\"name\":\"_from\",\"type\":\"address\"},{\"indexed\":true,\"internalType\":\"address\",\"name\":\"_to\",\"type\":\"address\"},{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"_value\",\"type\":\"uint256\"}],\"name\":\"Transfer\",\"type\":\"event\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"\",\"type\":\"address\"},{\"internalType\":\"address\",\"name\":\"\",\"type\":\"address\"}],\"name\":\"allowance\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"_spender\",\"type\":\"address\"},{\"internalType\":\"uint256\",\"name\":\"_value\",\"type\":\"uint256\"}],\"name\":\"approve\",\"outputs\":[{\"internalType\":\"bool\",\"name\":\"success\",\"type\":\"bool\"}],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"\",\"type\":\"address\"}],\"name\":\"balanceOf\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"decimals\",\"outputs\":[{\"internalType\":\"uint8\",\"name\":\"\",\"type\":\"uint8\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"name\",\"outputs\":[{\"internalType\":\"string\",\"name\":\"\",\"type\":\"string\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"symbol\",\"outputs\":[{\"internalType\":\"string\",\"name\":\"\",\"type\":\"string\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"totalSupply\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"_to\",\"type\":\"address\"},{\"internalType\":\"uint256\",\"name\":\"_value\",\"type\":\"uint256\"}],\"name\":\"transfer\",\"outputs\":[{\"internalType\":\"bool\",\"name\":\"success\",\"type\":\"bool\"}],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"_from\",\"type\":\"address\"},{\"internalType\":\"address\",\"name\":\"_to\",\"type\":\"address\"},{\"internalType\":\"uint256\",\"name\":\"_value\",\"type\":\"uint256\"}],\"name\":\"transferFrom\",\"outputs\":[{\"internalType\":\"bool\",\"name\":\"success\",\"type\":\"bool\"}],\"stateMutability\":\"nonpayable\",\"type\":\"function\"}]');\n        this.contractAddress = '0x93c72C90A492B14a2b1b93267C03036A5e9f5E60';      \n          \n    }\n      \n    async connectAccount() {\n        this.web3Modal.clearCachedProvider();\n    \n        this.provider = await this.web3Modal.connect(); // set provider\n        this.web3js = new Web3(this.provider); // create web3 instance\n        this.accounts = await this.web3js.eth.getAccounts(); \n        this.accountStatusSource.next(this.accounts)\n        this.contrato = new this.web3js.eth.Contract(this.abi, this.contractAddress);   \n    }  \n    \n}\n\n/*\n\nconstructor() {\n        this.web3 = new Web3();\n\n        this.web3.setProvider(\n            new Web3.providers.WebsocketProvider('wss://ropsten.infura.io/ws/v3/c0c8c037208043debd3192efe93ed1d2')\n        );\n\n        //this.sender = '0xf65112fa0998477c990fb71722b067b7892f2160';\n        this.sender = '0xAFF7B3C82d2B3B2270db013E0Cbf2783ED514bF1';\n\n        this.web3.eth.defaultAccount = this.sender;\n        \n        // tslint:disable-next-line:max-line-length              \n        this.abi = JSON.parse('[{\"constant\":false,\"inputs\":[],\"name\":\"increment\",\"outputs\":[],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"oldValue\",\"type\":\"uint256\"},{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"newValue\",\"type\":\"uint256\"}],\"name\":\"ValueChanged\",\"type\":\"event\"},{\"constant\":true,\"inputs\":[],\"name\":\"getCount\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"}]');\n        this.contractAddress = '0x99E5a41b66702D9d54428d48FE9C8dEE2DDc6CbC';\n\n        this.contrato = new this.web3.eth.Contract(this.abi, this.contractAddress);\n    }\n*/\n"],"sourceRoot":""},"metadata":{},"sourceType":"module"}